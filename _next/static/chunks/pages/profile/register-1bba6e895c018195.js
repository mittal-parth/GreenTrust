(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[988],{76053:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/register",function(){return a(70905)}])},70905:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var r=a(85893),l=a(11163),s=a(89541),u=a(67294),i=a(77365),n=a(78603),d=a(82902),o=a(73032);function c(){let{loading:e,setLoading:t}=(0,u.useContext)(o.O),a=(0,l.useRouter)(),s=(0,i.a)();(0,u.useEffect)(()=>{s.user&&t(!1)},[s.user]),(0,u.useEffect)(()=>{s.user||t(!0)},[]);let[c,f]=(0,u.useState)({}),[p,b]=(0,u.useState)([]),[m,h]=(0,u.useState)([]),_=async(e,t)=>{c.profilePic=e,console.log("debug:",c,t),await (0,n.uG)(s,"registerFarmer",[JSON.stringify(c),t]),a.replace("/dashboard")};return(0,r.jsx)(d.Z,{handleSubmit:_,fields:[{label:"Name",placeholder:"Jane Doe"},{label:"Email",placeholder:"janedoe@greentrust.com"},{label:"Address",placeholder:"1234 Main St",dataLabel:"currentAddress"},{label:"Farmer Id",placeholder:"1234",dataLabel:"farmerId"},{label:"Profile Pic",id:"pic",isFile:!0,setFile:b,file:p},{label:"Document Proofs",id:"proofs",isFile:!0,isMultiple:!0,setFile:h,file:m,dataLabel:"proofs"}],setData:f,data:c})}function f(){let{loading:e,setLoading:t}=(0,u.useContext)(o.O),a=(0,l.useRouter)(),s=(0,i.a)();(0,u.useEffect)(()=>{s.user&&t(!1)},[s.user]),(0,u.useEffect)(()=>{s.user||t(!0)},[]);let[c,f]=(0,u.useState)({}),[p,b]=(0,u.useState)([]),m=async e=>{await (0,n.uG)(s,"registerVerifier",[c.name,c.currentAddress,e]),a.replace("/dashboard")};return(0,r.jsx)(d.Z,{handleSubmit:m,fields:[{label:"Name",placeholder:"Jane Doe"},{label:"Address",placeholder:"1234 Main St",dataLabel:"currentAddress"},{label:"ID",isFile:!0,isMultiple:!0,setFile:b,file:p,dataLabel:"ids"}],setData:f,data:c})}a(95867);var p=a(82687);function b(){let e=(0,l.useRouter)(),{type:t}=e.query;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.Z,{form:"farmer"==t?(0,r.jsx)(c,{}):(0,r.jsx)(f,{}),title:"Build your profile",text:"Fill up the details asked and upload supporting documents.",image:p,imageStyle:"!max-w-[20vw]"})})}}},function(e){e.O(0,[296,185,512,895,774,888,179],function(){return e(e.s=76053)}),_N_E=e.O()}]);